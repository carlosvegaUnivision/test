name: summary

on:
  workflow_dispatch:

jobs:
  summarize:

    runs-on: ubuntu-latest

    steps:
    - name: Generate Job Summary
      uses: actions/github-script@v4
      id: summary
      with:
        script: |
          const jobs = [{name: 'carlos', status: 'green'}, {name: 'andres', status: 'red'}];
          const summary = jobs.map(job => ({name: job.name, status: job.status}));
          console.log(JSON.stringify(summary));
      run: echo "${{ steps.summary.outputs.result }}" >> $GITHUB_STEP_SUMMARY